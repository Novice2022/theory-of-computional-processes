<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Сети Петри</title>

    <link rel="stylesheet" href="./styles/main.css">
    <link rel="stylesheet" href="./styles/net.css">
</head>
<body>
    <div class="content">
        <div class="row">
            <div id="net">
                <div class="states">
                    <div class="state-component" id="state-ready-to-consume" name="sa">
                        <span class="state-label">Готов потреблять</span>
                        <p class="state">b</p>
                    </div>
                    <div class="state-component" id="state-received" name="sb">
                        <span class="state-label">Получено</span>
                        <p class="state"></p>
                    </div>
                    <div class="state-component" id="state-limit-to-out" name="sc">
                        <span class="state-label">Огранич. на выход. буфер</span>
                        <p class="state">d</p>
                    </div>
                    <div class="state-component" id="state-out" name="sd">
                        <span class="state-label">Выход. буфер</span>
                        <p class="state"></p>
                    </div>
                    <div class="state-component" id="state-ready-to-produce" name="se">
                        <span class="state-label">Готов производить</span>
                        <p class="state">a</p>
                    </div>
                    <div class="state-component" id="state-limit-to-in" name="sf">
                        <span class="state-label">Ограничение на вход. буфер</span>
                        <p class="state">c</p>
                    </div>
                    <div class="state-component" id="state-in" name="sg">
                        <span class="state-label">Вход. буфер</span>
                        <p class="state"></p>
                    </div>
                </div>
                <div class="transitions">
                    <div class="transition-component" id="transition-take-from-in" name="ta">
                        <span class="transition-label">Взять из вход. буфера</span>
                        <div class="transition-rect"></div>
                    </div>
                    <div class="transition-component" id="transition-write-to-in" name="tb">
                        <span class="transition-label">Записать во вход. буфер</span>
                        <div class="transition-rect"></div>
                    </div>
                    <div class="transition-component" id="transition-write-to-out" name="tc">
                        <span class="transition-label">Записать в выход. буфер</span>
                        <div class="transition-rect"></div>
                    </div>
                </div>
                <div class="arcs">
                    <div class="arc-component" id="sa-to-ta">
                        <div class="arc-line first"></div>
                        <div class="arrow-end">
                            <div class="arrow-end-line left"></div>
                            <div class="arrow-end-line right"></div>
                        </div>
                    </div>
                    <div class="arc-component" id="ta-to-sb">
                        <div class="arc-line first"></div>
                        <div class="arrow-end">
                            <div class="arrow-end-line left"></div>
                            <div class="arrow-end-line right"></div>
                        </div>
                    </div>
                    <div class="arc-component" id="sb-to-tc">
                        <div class="arc-line first"></div>
                        <div class="arrow-end">
                            <div class="arrow-end-line left"></div>
                            <div class="arrow-end-line right"></div>
                        </div>
                    </div>
                    <div class="arc-component" id="sc-to-tc">
                        <div class="arc-line first"></div>
                        <div class="arc-line second"></div>
                        <div class="arrow-end">
                            <div class="arrow-end-line left"></div>
                            <div class="arrow-end-line right"></div>
                        </div>
                    </div>
                    <div class="arc-component" id="tc-to-sd">
                        <div class="arc-line first"></div>
                        <div class="arrow-end">
                            <div class="arrow-end-line left"></div>
                            <div class="arrow-end-line right"></div>
                        </div>
                    </div>
                    <div class="arc-component" id="ta-to-sf">
                        <div class="arc-line first"></div>
                        <div class="arc-line second"></div>
                        <div class="arrow-end">
                                <div class="arrow-end-line left"></div>
                                <div class="arrow-end-line right"></div>
                        </div>
                    </div>
                    <div class="arc-component" id="sf-to-tb">
                        <div class="arc-line first"></div>
                        <div class="arc-line second"></div>
                        <div class="arrow-end">
                            <div class="arrow-end-line left"></div>
                            <div class="arrow-end-line right"></div>
                        </div>
                    </div>
                    <div class="arc-component" id="se-to-tb">
                        <div class="arc-line first"></div>
                        <div class="arrow-end">
                            <div class="arrow-end-line left"></div>
                            <div class="arrow-end-line right"></div>
                        </div>
                    </div>
                    <div class="arc-component" id="tb-to-se">
                        <div class="arc-line first"></div>
                        <div class="arc-line second"></div>
                        <div class="arc-line third"></div>
                        <div class="arc-line fourth"></div>
                        <div class="arrow-end">
                            <div class="arrow-end-line left"></div>
                            <div class="arrow-end-line right"></div>
                        </div>
                    </div>
                    <div class="arc-component" id="tb-to-sg">
                        <div class="arc-line first"></div>
                        <div class="arrow-end">
                            <div class="arrow-end-line left"></div>
                            <div class="arrow-end-line right"></div>
                        </div>
                    </div>
                    <div class="arc-component" id="sg-to-ta">
                        <div class="arc-line first"></div>
                        <div class="arc-line second"></div>
                        <div class="arc-line third"></div>
                        <div class="arc-line fourth"></div>
                        <div class="arrow-end">
                            <div class="arrow-end-line left"></div>
                            <div class="arrow-end-line right"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="interface">
                <div class="settings">
                    <h2>Установка значений для состояний</h2>
                    <div class="setter">
                        <span class="state-name">Готов производить</span>
                        <div class="controllers">
                            <input type="number" min="0" id="a-setter">
                            <button type="button" onclick="updateState('a-setter', 'se')">Установить</button>
                        </div>
                    </div>
                    <div class="setter">
                        <span class="state-name">Готов потреблять</span>
                        <div class="controllers">
                            <input type="number" min="0" id="b-setter">
                            <button type="button" onclick="updateState('b-setter', 'sa')">Установить</button>
                        </div>
                    </div>
                    <div class="setter">
                        <span class="state-name">Огранич. на вход. буфер</span>
                        <div class="controllers">
                            <input type="number" min="0" id="c-setter">
                            <button type="button" onclick="updateState('c-setter', 'sf')">Установить</button>
                        </div>
                    </div>
                    <div class="setter">
                        <span class="state-name">Огранич. на выход. буфер</span>
                        <div class="controllers">
                            <input type="number" min="0" id="d-setter">
                            <button type="button" onclick="updateState('d-setter', 'sc')">Установить</button>
                        </div>
                    </div>
                    <button type="button" onclick="resetStates()">Сбросить состояния</button>
                </div>
                <div class="actions">
                    <h2>Действия</h2>
                    <div class="act-block">
                        <button type="button" onclick="setInterfaceDisabled(true)">Начать</button>
                        <button type="button" onclick="iterate()">Выполнить итерацию</button>
                        <button type="button" onclick="setInterfaceDisabled(false)">Остановить</button>
                    </div>
                    <div class="act-block">
                        <button type="button" onclick="getReachabilityTree()">Дерево достижимости</button>
                        <button type="button" onclick="getReachabilityMatrix()">Матрица достижимости</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="reachabilities">
            <div id="tree"></div>
            <div id="matrix"></div>
        </div>
    </div>
    <script src="./scripts/domManagers.js"></script>
    <script src="./scripts/net/elements.js"></script>
    <script src="./scripts/net/logic.js"></script>
    <script src="./scripts/interface.js"></script>
    <script src="./scripts/main.js"></script>
</body>
</html>
